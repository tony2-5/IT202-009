<table><tr><td> <em>Assignment: </em> IT202 Milestone 3 Shop Project</td></tr>
<tr><td> <em>Student: </em> Anthony Dvorsky (ajd99)</td></tr>
<tr><td> <em>Generated: </em> 12/16/2022 3:42:52 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT202-009-F22/it202-milestone-3-shop-project/grade/ajd99" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <ol><li>Checkout Milestone3 branch</li><li>Create a new markdown file called milestone3.md</li><li>git add/commit/push immediate</li><li>Fill in the below deliverables</li><li>At the end copy the markdown and paste it into milestone3.md</li><li>Add/commit/push the changes to Milestone3</li><li>PR Milestone3 to dev and verify</li><li>PR dev to prod and verify</li><li>Checkout dev locally and pull changes to get ready for Milestone 4</li><li>Submit the direct link to this new milestone3.md file from your GitHub prod branch to Canvas</li></ol><p>Note: Ensure all images appear properly on GitHub and everywhere else. Images are only accepted from dev or prod, not localhost. All website links must be from prod (you can assume/infer this by getting your dev URL and changing dev to prod).</p></td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Orders will be able to be recorded </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of the Orders table with valid data in it</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208124267-6f82796d-28f2-452a-9db7-3ef343570884.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing Orders table with valid data in it:<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of OrderItems table with validate data in it</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208124463-6cf63e3c-f386-4970-95da-04ec4eb7fb3d.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing OrderItems table with valid data in it order_id refers to orders<br>table id<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add a screenshot of the purchase form UI from Heroku</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208125313-611d68cd-c2f1-4de6-97c7-e4a1fb34ea2c.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing purchase form on checkout page with valid data in it<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a screenshot showing the items pending purchase from Heroku</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208125706-b8cb5671-0680-430e-b275-df729136c282.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing items pending purchase on the checkout page with item name, desired<br>quantity, unit cost, subtotal, link back to the cart, and total cost. Also<br>showing a demo of percent off, which is the calculated difference between product<br>unit cost and cart unit cost<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208126007-0981c8bf-2c8b-4030-84f2-f983a863ffbb.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing actual unit price of test2 product to compare to difference calculation<br>in checkout page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 5: </em> Add a screenshot showing the Order Process validations from the code</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208133168-fb6af4ed-add7-4a7d-ac5a-c336945788fb.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot1 showing order validation from code for price difference<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208133328-56c72d30-1c67-480b-902d-1157f4e0a464.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot2 showing order validation from code for price difference, stock of items, and<br>paid amount vs cart amount<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208127981-91efb654-291b-4453-b782-49d527e937c2.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot3 showing order validation in the HTML using attributes like required and max<br>length<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208128403-e7aa1ef7-dc41-4757-b654-0cb486b019e6.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot4 showing javascript regex validation for certain address pieces to ensure they are<br>only passing in letters, not numbers or special characters<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 6: </em> Add a screenshot showing the Order Process validations from the UI (Heroku)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208128842-3694414a-44b1-46a5-8dce-b6f7c2b2b597.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing price difference message from the UI, I have the user be<br>redirected to cart with automatic price update and message displayed in cart<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208133955-3c131ee5-5087-47ed-85ad-94de8861654f.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing unavailable stock message (if product stock is 0)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208136292-02cea25a-c21e-43b0-8e57-ee843a4468b3.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing unavailable stock message (if product stock is not 0)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208134258-06ca9984-317f-4c0d-a933-4f2abe1c4612.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing invalid money message<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 7: </em> Briefly describe the code flow/process of the purchase process</td></tr>
<tr><td> <em>Response:</em> <div><ul><li>&nbsp;First select product info and cart info using select query with a join<br>on the Cart and Product table</li><li>Using PHP templating will display this info for<br>user to see the cart they are checking out</li><li>First validation is through html<br>form attributes (required, maxlength)</li><li>Once user fills out form and submits javascript validation checks<br>the address fields follow regex pattern before allowing submit</li><li>If form passes javascript validation<br>next needs to pass PHP validation which checks if there is a price<br>difference, unavailable stock, or invalid money received</li><li>If price difference redirects user to cart<br>and automatically changes price of product using update statement to cart and displays<br>message to user</li><li>If unavailable stock displays message on checkout page to update stock<br>price</li><li>If invalid money is being received alerts user to change amount paying to<br>correct amount</li><li>Finally, after all validation is passed Orders table insert, OrderItems table insert,<br>Product table stock update, and Cart table is cleared for user using delete.</li></ul></div><div><br></div><br></td></tr>
<tr><td> <em>Sub-Task 8: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/tony2-5/IT202-009/pull/63">https://github.com/tony2-5/IT202-009/pull/63</a> </td></tr>
<tr><td> <em>Sub-Task 9: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://ajd99-prod.herokuapp.com/Project/checkout.php">https://ajd99-prod.herokuapp.com/Project/checkout.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Order Confirmation Page </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Screenshot showing the order details from the purchase form and the related items that were purchased with a thank you message</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208171627-aa4db6c2-5190-47ef-a74c-a718f09a5d34.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot 1 showing checkout page with data prefilled<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208171666-2c60d009-4909-4ae8-886d-fb54d3e6da48.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot 2 showing checkout page with data prefilled<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208171727-1be895d9-473b-4c03-9dcd-3ee0a3787965.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing order confirmation page after user places order with thank you message<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208172034-31f8a54f-e38f-44e1-868f-2c5bb1d958c3.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing Orders table data from order placed in previous screenshots (id 29)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208172280-803cf31a-a86a-4752-bced-ce37b815afa8.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing OrderItems table with data from order placed in previous screenshots (id<br>25, id 26) both have order_id of 29<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Briefly explain how this information is retrieved and displayed from a code logic perspective</td></tr>
<tr><td> <em>Response:</em> <p>The way information is received and displayed on the order confirmation page is<br>after the user places their order, data about the cart and purchase information<br>is stored in the Orders table and OrderItems table as explained in deliverable<br>1. Once the data is successfully inserted, the user is redirected to the<br>order confirmation page where it is checked if they are logged in. After<br>that, we have a select statement on the Orders table retrieving data where<br>the users id matches the Order table user_id column, and we have the<br>selection ordered descending by the created field with a limit of 1 to<br>get the most recent order from that user. After we retrieve the data<br>from the Orders table we bind it to an array and we use<br>the id retrieved from the Orders table to have another select statement on<br>the OrderItems table where the Orders table id matches the OrderItems table order_id<br>column. Finally we also bind the OrderItems table data to an array, and<br>we use both arrays of data to display information about the order with<br>PHP templating.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/tony2-5/IT202-009/pull/64">https://github.com/tony2-5/IT202-009/pull/64</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://ajd99-prod.herokuapp.com/Project/orderconfirmation.php">https://ajd99-prod.herokuapp.com/Project/orderconfirmation.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> User will be able to see their Purchase History </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing purchase history for a user</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208174726-a73d8ac6-b073-4093-8924-2b581a5df176.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing purchase history with click to view full details option<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot showing full details of a purchase (Order Details Page)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208175091-a771313d-7bb9-46cd-8255-a6beb0ac8da9.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing order details page after user clicks to view more details<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain the logic for showing the purchase list and click/displaying the Order Details</td></tr>
<tr><td> <em>Response:</em> <div>The way the logic works for showing purchase history for a user is<br>I have a select statement from the Orders table selecting data for the<br>10 most recent orders where a users id matches, and I have it<br>ordered descending by created column to order it starting with the most recent<br>order. I have the data retrieved from the Orders table in an array<br>and I loop through this array. For each item in the Orders data<br>array I have select statement on the OrderItems table where I get the<br>quantities of the products purchased where the Orders table id matches OrderItems table<br>order_id, I also put the data from the OrderItems select statement in an<br>array. I then loop through each quantity amount for each ordered item and<br>sum it to get a total quantity of items purchased in an order<br>to display it to the user. I then display the data using PHP<br>templating.&nbsp;</div><div>The way that displaying the order details works is when the user clicks<br>the get more details button, it redirects the user to the order confirmation<br>page with a $_GET request sending data about the order id. Then on<br>the order confirmation page I have an if statement checking if $_GET id<br>is set and if that is true I have a select statement getting<br>data from the Orders table where the users id matches and the $_GET<br>id matches with the order id. Finally, we use the data selected from<br>the Orders table to also select data from the OrderItems table and display<br>all the information on the order confirmation page using PHP templating.</div><div><br></div><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/tony2-5/IT202-009/pull/65">https://github.com/tony2-5/IT202-009/pull/65</a> </td></tr>
<tr><td> <em>Sub-Task 5: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://ajd99-prod.herokuapp.com/Project/purchasehistory.php">https://ajd99-prod.herokuapp.com/Project/purchasehistory.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> Store Owner Purchase History </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing purchase history from multiple users</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208182722-e15e7d01-1584-4f73-bb8e-952fbc6e546c.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing store purchase history, which is allowed only for the admin role.<br>Shows stores 10 most recent orders with user&#39;s usernames and an option to<br>view more details:<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot showing full details of a purchase (Order Details Page)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208183183-bd1ab484-314c-4bf6-898e-8723593e5b84.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot before clicking view more details on order info for user test3 (the<br>current admin username tony25)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208183344-314c5414-770a-436c-b004-6a4978ebbd3e.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot after clicking view more details on order info for user test3<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain the logic for showing the purchase list and click/displaying the Order Details (mostly how it differs from the user's purchase history feature)</td></tr>
<tr><td> <em>Response:</em> <p>The way that displaying the purchase list for the whole shop works is<br>first when a user goes to access the store purchase list, we make<br>sure they are admin. Next, we have a select statement that selects from<br>the Users table joined the Orders table. We select data about the user&#39;s<br>username from the Users table and data about the order from the Orders<br>table, we limit this select statement to 10 and order by descending on<br>the create column from the Orders table to get the 10 most recent<br>orders. The way we get the quantity of items purchased in each order<br>is then the same way explained in the user purchase history write-up.<div>The way<br>displaying more details is also similar as explained in the previous write up,<br>using a redirect with a get request. The only difference now is on<br>the order confirmation page we check if the $_GET variable was set and<br>if the user has a role of admin, if this is true we<br>have a new select statement where we select data from the Orders table<br>only where the order id passed in the get request matches the Orders<br>table id column without the user id check. Everything else is the same<br>as the user&#39;s purchase history feature.</div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/tony2-5/IT202-009/pull/66">https://github.com/tony2-5/IT202-009/pull/66</a> </td></tr>
<tr><td> <em>Sub-Task 5: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://ajd99-prod.herokuapp.com/Project/admin/store_purchasehistory.php">https://ajd99-prod.herokuapp.com/Project/admin/store_purchasehistory.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 5: </em> Misc </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot of the Cart page showing the button to place an order</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208185408-cca406e4-05ba-477b-8262-879b734c9636.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot of cart page showing place order button<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshots showing which issues are done/closed (project board) Incomplete Issues should not be closed (Milestone3 issues)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/108694143/208185563-2fa78f53-0268-48af-84ad-3180a39c2044.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot from project board showing Milestone3 issues are done<br></p>
</td></tr>
</table></td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT202-009-F22/it202-milestone-3-shop-project/grade/ajd99" target="_blank">Grading</a></td></tr></table>